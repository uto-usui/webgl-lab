(this.webpackJsonp=this.webpackJsonp||[]).push([[25,29],{242:function(e,t,i){"use strict";i.r(t),i.d(t,"locomotiveInit",(function(){return u}));i(49),i(33),i(20),i(19),i(9),i(44);var n=i(21),r=(i(34),i(245)),o=i(5),s=i(101),c=i(102);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u=function(e){var t=e.background,i=Object(s.useContext)(),n=i.$locomotiveScroll,a=i.$dispatch,u=n,h=Object(o.k)(null),d=Object(o.j)({hue:0}),p=Object(o.j)({delta:0,direction:"",limit:0,scroll:{x:0,y:0},speed:0}),m=function(){var e;null===(e=h.value)||void 0===e||e.update(),console.log("🐈 resize")},f=[],v={exFunc:function(e,t,i){console.log(e,t,i)},background:function(e,t,i){if("enter"===t)f.push({id:i.id,el:i.el});else for(var n=0;n<f.length;n++)i.id===f[n].id&&f.splice(n,1)}},b=function(e){var i=e.direction,n=e.limit,r=e.scroll,o=e.speed,s=e.currentElements;p.direction=i,p.limit=n.y,p.scroll={x:r.x,y:r.y},p.speed=o,a("ls/setDirection",i),a("ls/setScroll",{x:r.x,y:r.y}),a("ls/setLimit",n.y),a("ls/setSpeed",o),t&&(d.hue=360*r.y/n.y,h.value.el.style.backgroundColor="hsla(".concat(2*d.hue+175,", 4%, 61%, 1)"),f.forEach((function(e){e.el.style.backgroundColor="hsla(".concat(2*d.hue+175,", 4%, 61%, 1)")}))),s.rotate&&c.a.set(s.rotate.el,{rotation:360*s.rotate.progress}),document.documentElement.setAttribute("data-direction",i)},w=function(e,t,i){var n=Object(r.a)(e),o=n[0],s=n.slice(1);v[o]&&v[o](s,t,i)};return Object(o.h)((function(){console.log("onMounted _ locomotive"),Object(o.f)((function(){h.value=new u({el:document.querySelector("[data-scroll-container]"),smooth:!0,getSpeed:!0,getDirection:!0}),a("ls/setLs",h),t&&(h.value.el.style.backgroundColor="hsla(".concat(175,", 4%, 61%, 1)")),window.addEventListener("resize",m),h.value&&h.value.on("call",w),h.value&&h.value.on("scroll",b)}))})),Object(o.g)((function(){var e;console.log("onBeforeUnmount _ locomotive"),null===(e=h.value)||void 0===e||e.destroy(),m(),window.removeEventListener("resize",m),h.value.off("call",w),h.value.off("scroll",b),h.value=null})),Object(o.i)((function(){Object(o.f)((function(){console.log("onUpdated _ locomotive"),h.value&&h.value.update()}))})),l(l({resizeHandler:m,ls:h},Object(o.l)(d)),Object(o.l)(p))}},243:function(e,t,i){"use strict";i.r(t),i.d(t,"createMetaData",(function(){return c})),i.d(t,"headObject",(function(){return a}));i(49),i(33),i(20),i(19),i(9),i(44);var n=i(21),r={title:"Training WebGL",description:":)",keywords:"web developer WebGL",ogImg:"https://uto-usui.com/og.jpg",ogType:"website",url:"https://uto-usui.com/"};function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(s({},r),e)},a=function(e){return{title:e.title||r.title,meta:[{hid:"keywords",name:"keywords",content:e.keywords||r.keywords},{hid:"description",name:"description",content:e.description||r.description},{hid:"og:title",property:"og:title",content:e.title||r.title},{hid:"og:description",property:"og:description",content:e.description||r.description},{hid:"og:locale",property:"og:locale",content:"ja_JP"},{hid:"og:site_name",property:"og:site_name",content:"uto_ao"},{hid:"og:type",property:"og:type",content:e.ogType||r.ogType},{hid:"og:url",property:"og:url",content:"/"===e.$route.fullPath?r.url:r.url+e.url||e.$route.fullPath},{hid:"og:image",property:"og:image",content:e.ogImg||r.ogImg},{hid:"twitter:card",name:"twitter:card",content:"summary_large_image"},{hid:"twitter:title",name:"twitter:title",content:e.title||r.title},{hid:"twitter:description",name:"twitter:description",content:e.description||r.description},{hid:"twitter:image",name:"twitter:image",content:e.ogImg||r.ogImg},{hid:"twitter:site",name:"twitter:site",content:"uto_ao"}]}}},244:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i(46);var n=function(e){e.map&&(e.map.dispose(),e.map=null),e.dispose(),e=null},r=function(e){e.geometry&&(e.geometry.dispose(),e.geometry=null),e.material&&Array.isArray(e.material)?e.material.forEach((function(e){return n(e)})):e.material&&n(e.material)}},271:function(e,t,i){var n=i(315);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i(15).default)("0ab3f8e0",n,!0,{sourceMap:!1})},314:function(e,t,i){"use strict";i(271)},315:function(e,t,i){var n=i(14)(!1);n.push([e.i,"",""]),e.exports=n},352:function(e,t,i){"use strict";i.r(t);i(49),i(33),i(20),i(19),i(9),i(44);var n=i(21),r=i(5),o=i(242),s=i(243),c=i(101),a=(i(262),i(27)),l=i(28),u=i(246),h=i(244),d=i(102),p=i(255),m=i(313),f=i.n(m),v=function(){function e(){var t=this;if(Object(a.a)(this,e),this.canvas=document.querySelector("canvas.webgl"),null===this.canvas)throw new Error("canvas null");this.sizes={width:window.innerWidth,height:window.innerHeight},this.cursor={x:0,y:0},this.scene=new u.m;var i=new u.a(5);this.scene.add(i);for(var n=new u.d,r=new Float32Array(45),o=0;o<45;o++)r[o]=4*(Math.random()-.5);var s=new u.c(r,3);n.setAttribute("position",s);var c=new u.j({color:"#68e3cf",wireframe:!0});this.mesh=new u.i(n,c),this.scene.add(this.mesh),this.camera=new u.k(75,this.sizes.width/this.sizes.height,.1,100),this.camera.position.z=5,this.scene.add(this.camera),this.controls=new p.a(this.camera,this.canvas),this.controls.enableDamping=!0,this.renderer=new u.r({canvas:this.canvas,antialias:!0}),this.renderer.setSize(this.sizes.width,this.sizes.height),this.renderer.render(this.scene,this.camera),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));var l={color:"#68e3cf",spin:!1};this.pane=new f.a({title:"Parameters"}),this.pane.addInput(this.mesh.position,"y",{min:0,max:10,step:.01,label:"elevation"}),this.pane.addInput(this.mesh,"visible"),this.pane.addInput(c,"wireframe"),this.pane.addInput(l,"color",{input:"color"}).on("change",(function(){c.color.set(l.color)})),this.pane.addInput(l,"spin").on("change",(function(e){d.a.to(t.mesh.rotation,1,{y:t.mesh.rotation.y+2*Math.PI}),console.log("📌 spin change",e)})),this.onMousemove=this.onMousemove.bind(this),window.addEventListener("mousemove",this.onMousemove),this.onDblclick=this.onDblclick.bind(this),window.addEventListener("dblclick",this.onDblclick),this.onResize=this.onResize.bind(this),window.addEventListener("resize",this.onResize),d.a.to(this.mesh.position,{duration:1,delay:1,x:"+3",yoyo:!0,repeat:-1,repeatDelay:1,ease:"power2.inOut"}),this.clock=new u.e,this.frameId=0,this.tick=this.tick.bind(this),this.tick()}return Object(l.a)(e,[{key:"onMousemove",value:function(e){this.cursor.x=e.clientX/this.sizes.width-.5,this.cursor.y=-(e.clientY/this.sizes.height-.5)}},{key:"onDblclick",value:function(){null!==this.canvas&&(document.fullscreenElement||document.webkitFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():this.canvas.requestFullscreen?this.canvas.requestFullscreen():this.canvas.webkitRequestFullscreen&&this.canvas.webkitRequestFullscreen())}},{key:"onResize",value:function(){this.sizes.width=window.innerWidth,this.sizes.height=window.innerHeight,this.camera.aspect=this.sizes.width/this.sizes.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.sizes.width,this.sizes.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))}},{key:"tick",value:function(){this.controls.update(),this.renderer.render(this.scene,this.camera),this.frameId=window.requestAnimationFrame(this.tick)}},{key:"finish",value:function(){var e=this;if(null===this.canvas)throw new Error("canvas null");this.pane.dispose(),window.cancelAnimationFrame(this.frameId),window.removeEventListener("mousemove",this.onMousemove),window.removeEventListener("dblclick",this.onDblclick),window.removeEventListener("resize",this.onResize),this.scene.children.forEach((function(t){t.traverse((function(e){return Object(h.a)(e)})),e.scene.remove(t)})),this.renderer.dispose(),this.renderer.forceContextLoss(),this.canvas.width=1,this.canvas.height=1,console.log("🔚 end basic scene")}}]),e}();function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var w=Object(r.c)({setup:function(e,t){var i,a=Object(c.useContext)().$dispatch,l=Object(o.locomotiveInit)({}).speed,u=Object(s.createMetaData)({title:"geometries"});return Object(r.h)((function(){Object(r.f)((function(){a("global/setIsPageReady",!0),i=new v}))})),Object(r.g)((function(){a("global/setIsPageReady",!1),null==i||i.finish()})),function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({speed:l},u)},head:function(){return Object(s.headObject)(this)}}),g=(i(314),i(10)),y=Object(g.a)(w,(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-basic-scene",attrs:{"data-scroll-container":""}},[t("div",{staticClass:"ph__inner"},[t("section",{staticClass:"ph__section",attrs:{"data-scroll-section":""}},[t("canvas",{staticClass:"webgl"})])])])}],!1,null,null,null);t.default=y.exports}}]);